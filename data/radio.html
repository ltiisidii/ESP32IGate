<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <title>ESP32IGATE - Radio</title>
    <script>
        function updateSliderValue(sliderId, valueId) {
            const slider = document.getElementById(sliderId);
            const valueDisplay = document.getElementById(valueId);
            slider.addEventListener('input', () => {
                valueDisplay.textContent = slider.value;
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateSliderValue('volume', 'volumeValue');
            updateSliderValue('sqlLevel', 'sqlLevelValue');
        });
    </script>
</head>
<body class="bg-dark text-light">

    <!-- Header -->
    <div class="container py-3">
        <h1 class="text-center">
            <a href="/" class="text-decoration-none text-light">ESP32IGate Project [APRS ALL IN ONE]</a>
        </h1>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="/">Dashboard</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/radio">Radio</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tnc2">TNC</a></li>
                    <li class="nav-item"><a class="nav-link" href="/gnss">GNSS</a></li>
                    <li class="nav-item"><a class="nav-link" href="/igate">IGATE</a></li>
                    <li class="nav-item"><a class="nav-link" href="/digi">Digi</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tracker">Tracker</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wx">WX</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tlm">TLM</a></li>
                    <li class="nav-item"><a class="nav-link" href="/vpn">VPN</a></li>
                    <li class="nav-item"><a class="nav-link" href="/wireless">Wireless</a></li>
                    <li class="nav-item"><a class="nav-link" href="/mod">Mod</a></li>
                    <li class="nav-item"><a class="nav-link" href="/system">System</a></li>
                    <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4" id="contentmain">
        <!-- RF Analog Module -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-light">
                RF Analog Module
            </div>
            <div class="card-body bg-dark text-light">
                <form method="POST" action="/radio">
                    <input type="hidden" name="commitRadio" value="1">
                    <table class="table table-dark table-striped">
                        <tbody>
                            <tr>
                                <th>Enable</th>
                                <td>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="radioEnable" name="radioEnable" %RADIO_ENABLE%>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th>Module Type</th>
                                <td>
                                    <select class="form-select" id="rf_type" name="rf_type">
                                        <option value="0">NONE</option>
                                        <option value="1">SA868_VHF</option>
                                        <option value="2">SA868_UHF</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>TX Frequency</th>
                                <td>
                                    <input type="text" class="form-control" id="tx_freq" name="tx_freq" value="%TX_FREQ%"> MHz
                                </td>
                            </tr>
                            <tr>
                                <th>RX Frequency</th>
                                <td>
                                    <input type="text" class="form-control" id="rx_freq" name="rx_freq" value="%RX_FREQ%"> MHz
                                </td>
                            </tr>
                            <tr>
                                <th>TX CTCSS</th>
                                <td>
                                    <select class="form-select" id="tx_ctcss" name="tx_ctcss">
                                        <option value="0">0.0</option>
                                        <option value="67">67.0</option>
                                        <option value="71.9">71.9</option>
                                        <option value="77">77.0</option>
                                        <option value="88.5">88.5</option>
                                        <option value="100">100.0</option>
                                        <option value="110.9">110.9</option>
                                        <option value="123">123.0</option>
                                        <option value="136.5">136.5</option>
                                        <option value="151.4">151.4</option>
                                        <option value="167.9">167.9</option>
                                        <option value="203.5">203.5</option>
                                    </select> Hz
                                </td>
                            </tr>
                            <tr>
                                <th>RX CTCSS</th>
                                <td>
                                    <select class="form-select" id="rx_ctcss" name="rx_ctcss">
                                        <option value="0">0.0</option>
                                        <option value="67">67.0</option>
                                        <option value="71.9">71.9</option>
                                        <option value="77">77.0</option>
                                        <option value="88.5">88.5</option>
                                        <option value="100">100.0</option>
                                        <option value="110.9">110.9</option>
                                        <option value="123">123.0</option>
                                        <option value="136.5">136.5</option>
                                        <option value="151.4">151.4</option>
                                        <option value="167.9">167.9</option>
                                        <option value="203.5">203.5</option>
                                    </select> Hz
                                </td>
                            </tr>
                            <tr>
                                <th>Narrow/Wide</th>
                                <td>
                                    <select class="form-select" id="narrowWide" name="narrowWide">
                                        <option value="0" %NARROW_WIDE_SELECTED_NARROW%>12.5 KHz (Narrow)</option>
                                        <option value="1" %NARROW_WIDE_SELECTED_WIDE%>25.0 KHz (Wide)</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>TX Power</th>
                                <td>
                                    <select class="form-select" id="txPower" name="txPower">
                                        <option value="LOW" %TX_POWER_SELECTED_LOW%>LOW</option>
                                        <option value="HIGH" %TX_POWER_SELECTED_HIGH%>HIGH</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>Volume</th>
                                <td>
                                    <input type="range" class="form-range" id="volume" name="volume" min="1" max="8" value="%VOLUME%">
                                    <span>Current: <span id="volumeValue">%VOLUME%</span></span>
                                </td>
                            </tr>
                            <tr>
                                <th>SQL Level</th>
                                <td>
                                    <input type="range" class="form-range" id="sqlLevel" name="sqlLevel" min="1" max="8" value="%SQL_LEVEL%">
                                    <span>Current: <span id="sqlLevelValue">%SQL_LEVEL%</span></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="text-center">
                        <button class="btn btn-primary">Apply Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- AFSK/TNC Configuration -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-light">
                AFSK/TNC Configuration
            </div>
            <div class="card-body bg-dark text-light">
                <form method="POST" action="/radio">
                    <input type="hidden" name="commitTNC" value="1">
                    <table class="table table-dark table-striped">
                        <tbody>
                            <tr>
                                <th>Modem Type</th>
                                <td>
                                    <select class="form-select" id="modemType" name="modemType">
                                        <option value="0">AFSK_300</option>
                                        <option value="1">AFSK_1200</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <th>Audio HPF</th>
                                <td>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="audioHpf" name="audioHpf">
                                    </div>
                                    <span>*Audio high pass filter >1KHz cutoff 10Khz</span>
                                </td>
                            </tr>
                            <tr>
                                <th>Audio BPF</th>
                                <td>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input" type="checkbox" id="audioBpf" name="audioBpf">
                                    </div>
                                    <span>*Audio band pass filter 1Khz-2.5KHz</span>
                                </td>
                            </tr>
                            <tr>
                                <th>TX Time Slot</th>
                                <td>
                                    <input type="text" class="form-control" id="txTimeSlot" name="txTimeSlot" value="2000"> mSec.
                                </td>
                            </tr>
                            <tr>
                                <th>Preamble</th>
                                <td>
                                    <input type="text" class="form-control" id="preamble" name="preamble" value="300"> mSec.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="text-center">
                        <button class="btn btn-primary">Apply Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-primary text-center text-light py-3 mt-5">
        ESP32IGate Web Configuration - &copy; 2025
    </footer>
</body>
</html>
